version: '3.8'
services:
  autotag-cron:
    image: txemi/immich-autotag:cron
    container_name: autotag-cron
    restart: unless-stopped

    # Set the cron schedule (default: once per hour at minute 0)
    # To change the schedule, edit the value below (e.g., "*/5 * * * *" for every 5 minutes)
    environment:
      - CRON_SCHEDULE=39 * * * *

    volumes:
      # Mounts configuration from $HOME/.config/immich_autotag (environment variable)
      - ${HOME}/.config/immich_autotag:/root/.config/immich_autotag
      # Mounts logs from the local project path
      - ./docker_logs:/root/logs
