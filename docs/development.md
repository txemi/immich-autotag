# Developer Guide: Immich Autotag

This document is intended for contributors and developers. It will contain information about project structure, development workflow, architecture, and technical details that are not relevant for end users.

For user documentation and quick start, see the main [README.md](../README.md).




## 1.5. Installation and Automatic Client Generation

1. Clone the repository.
2. Run the script to create and activate the virtual environment, install dependencies, and generate the client:

```bash
source setup_venv.sh
```

This script:
- Creates and activates the `.venv` virtual environment.
- Installs external dependencies from `requirements.txt`.
- Installs `openapi-python-client` if not present.
- Automatically generates the `immich-client/` folder from the official OpenAPI spec if it does not exist.
- Installs the local client in editable mode.

3. If you want to regenerate the client, delete the `immich-client/` folder and rerun the script.

## 1.6. Execution

Run the main application:

```bash
./run_app.sh
```

## 1.7. Structure
- `immich_api_examples/`: Example scripts showing how to use the Immich API and test integration:
	- `immich_api_example_read_asset_tags_albums.py`: Example for reading asset tags and albums.
	- `run_test_asset_albums_tags.sh`: Script to run the above example in the correct environment.
- `main.py`: Main entry point for Immich AutoTag.
- `run_app.sh`: Script to launch the application.
- `setup_venv.sh`: Script to create the environment, install dependencies, and generate the client.
- `requirements.txt`: External project dependencies.
- `immich-client/`: Autogenerated client from OpenAPI.
- `immich_autotag/`: Main package with all core logic, helpers, and configuration:
	- `core/`: Core wrappers, analyzers, and context classes.
	- `utils/`: Helper functions and utilities.
	- `config/`: Configuration modules:
		- `user.py`: User-editable configuration (host, API key, tags, etc.)
		- `user_config_template.py`: Template for user config (no private data)
		- `internal_config.py`: Internal, non-user config (derived variables, internal flags)
- `scripts/`: Utility scripts for project hygiene and automation:
	- `clean_pycache.sh`: Cleans all `.pyc` files and `__pycache__` folders in the project.
- `LICENSE`: GPL v3 license.
- `README.md`: This file.

## 1.8. Custom Configuration


For security reasons, **do not upload your `immich_autotag/config/user.py` file with private data** to the public repository.

Instead, use the template `immich_autotag/config/user_config_template.py`:

1. Copy the file `immich_autotag/config/user_config_template.py` as `immich_autotag/config/user.py`.
2. Edit the host, port, and API_KEY values to match your Immich instance.
3. Modify the tags and patterns as needed for your use case.

The template file does not contain sensitive information and can be uploaded to the repository as a reference for other users.



---

*Content to be added...*
