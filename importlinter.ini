[importlinter]
root_package = immich_autotag
include_external_packages = True

# Architectural contracts to maintain clean separation of concerns

[importlinter:contract:logging_proxy_only_accesses_immich_proxy]
name = Only logging_proxy can access immich_proxy
type = forbidden
source_modules =
    immich_autotag
forbidden_modules =
    immich_autotag.api.immich_proxy

[importlinter:contract:immich_proxy_only_accesses_client]
name = Only immich_proxy can access immich_client
type = forbidden
source_modules =
    immich_autotag
forbidden_modules =
    immich_client
